{"ast":null,"code":"// Session service to centralize creation/retrieval of a persistent session/user ID\n// Ensures a single, stable identifier is used across the app for Socket.IO and API calls.\nimport{v4 as uuidv4}from'uuid';const SESSION_STORAGE_KEY='selo_ai_session_id';export function getOrCreateSessionId(){try{let sid=localStorage.getItem(SESSION_STORAGE_KEY);if(!sid||typeof sid!=='string'||sid.trim()===''){sid=uuidv4();localStorage.setItem(SESSION_STORAGE_KEY,sid);}return sid;}catch(_e){// Fallback if localStorage is unavailable (very rare in our context)\nreturn uuidv4();}}export function getSessionId(){try{return localStorage.getItem(SESSION_STORAGE_KEY)||null;}catch(_e){return null;}}export function setSessionId(id){if(!id)return;try{localStorage.setItem(SESSION_STORAGE_KEY,id);}catch(_e){}}","map":{"version":3,"names":["v4","uuidv4","SESSION_STORAGE_KEY","getOrCreateSessionId","sid","localStorage","getItem","trim","setItem","_e","getSessionId","setSessionId","id"],"sources":["/mnt/local/Projects/SELODSP1/selo-ai/frontend/src/services/sessionService.js"],"sourcesContent":["// Session service to centralize creation/retrieval of a persistent session/user ID\n// Ensures a single, stable identifier is used across the app for Socket.IO and API calls.\n\nimport { v4 as uuidv4 } from 'uuid';\n\nconst SESSION_STORAGE_KEY = 'selo_ai_session_id';\n\nexport function getOrCreateSessionId() {\n  try {\n    let sid = localStorage.getItem(SESSION_STORAGE_KEY);\n    if (!sid || typeof sid !== 'string' || sid.trim() === '') {\n      sid = uuidv4();\n      localStorage.setItem(SESSION_STORAGE_KEY, sid);\n    }\n    return sid;\n  } catch (_e) {\n    // Fallback if localStorage is unavailable (very rare in our context)\n    return uuidv4();\n  }\n}\n\nexport function getSessionId() {\n  try {\n    return localStorage.getItem(SESSION_STORAGE_KEY) || null;\n  } catch (_e) {\n    return null;\n  }\n}\n\nexport function setSessionId(id) {\n  if (!id) return;\n  try {\n    localStorage.setItem(SESSION_STORAGE_KEY, id);\n  } catch (_e) {}\n}\n"],"mappings":"AAAA;AACA;AAEA,OAASA,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAEnC,KAAM,CAAAC,mBAAmB,CAAG,oBAAoB,CAEhD,MAAO,SAAS,CAAAC,oBAAoBA,CAAA,CAAG,CACrC,GAAI,CACF,GAAI,CAAAC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAACJ,mBAAmB,CAAC,CACnD,GAAI,CAACE,GAAG,EAAI,MAAO,CAAAA,GAAG,GAAK,QAAQ,EAAIA,GAAG,CAACG,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACxDH,GAAG,CAAGH,MAAM,CAAC,CAAC,CACdI,YAAY,CAACG,OAAO,CAACN,mBAAmB,CAAEE,GAAG,CAAC,CAChD,CACA,MAAO,CAAAA,GAAG,CACZ,CAAE,MAAOK,EAAE,CAAE,CACX;AACA,MAAO,CAAAR,MAAM,CAAC,CAAC,CACjB,CACF,CAEA,MAAO,SAAS,CAAAS,YAAYA,CAAA,CAAG,CAC7B,GAAI,CACF,MAAO,CAAAL,YAAY,CAACC,OAAO,CAACJ,mBAAmB,CAAC,EAAI,IAAI,CAC1D,CAAE,MAAOO,EAAE,CAAE,CACX,MAAO,KAAI,CACb,CACF,CAEA,MAAO,SAAS,CAAAE,YAAYA,CAACC,EAAE,CAAE,CAC/B,GAAI,CAACA,EAAE,CAAE,OACT,GAAI,CACFP,YAAY,CAACG,OAAO,CAACN,mBAAmB,CAAEU,EAAE,CAAC,CAC/C,CAAE,MAAOH,EAAE,CAAE,CAAC,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}