{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{v4 as uuidv4}from'uuid';import ReflectionPanel from'./ReflectionPanel';import{reflectionService}from'../services/reflectionService';import{getApiBaseUrl}from'../services/config';// Runtime-resolved API base URL\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const trimTrailingSlash=s=>s.replace(/\\/$/,'');// Enforce strict reflection-first UX (no assistant release without matching reflection)\nconst STRICT_REFLECTION_FIRST=true;const Chat=_ref=>{let{userId}=_ref;const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[isLoading,setIsLoading]=useState(false);const[reflectingCount,setReflectingCount]=useState(0);const[apiBase,setApiBase]=useState(null);// Map of turnId -> assistant message content waiting for matching reflection\nconst pendingAnswersRef=useRef(new Map());const reflectionsSeenRef=useRef(new Set());const[sessionId,setSessionId]=useState(null);// Track per-turn timeouts for releasing pending assistant messages if reflection is delayed\nconst pendingTimeoutsRef=useRef(new Map());const messagesEndRef=useRef(null);// Auto-scroll to bottom when messages change\nuseEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);// Resolve API base URL at runtime via backend /config.json (with fallbacks inside getApiBaseUrl)\nuseEffect(()=>{let mounted=true;(async()=>{try{const base=await getApiBaseUrl();if(mounted)setApiBase(base);}catch(e){console.warn('Failed to resolve API base URL:',e);if(mounted)setApiBase('http://localhost:8000');}})();return()=>{mounted=false;};},[]);// Establish a single, consistent session id across the app. Prefer App's userId prop.\nuseEffect(()=>{// If App provided a userId, use it and persist to localStorage for continuity\nif(userId&&typeof userId==='string'){setSessionId(userId);try{localStorage.setItem('selo_ai_session_id',userId);}catch(_){}return;}// Fallback to existing persisted session id or create a new one\nlet sid=null;try{sid=localStorage.getItem('selo_ai_session_id');}catch(_){sid=null;}if(!sid){sid=uuidv4();try{localStorage.setItem('selo_ai_session_id',sid);}catch(_){}}setSessionId(sid);},[userId]);// Load conversation history when sessionId is available\nuseEffect(()=>{if(!sessionId||!apiBase)return;const loadConversationHistory=async()=>{try{const response=await fetch(`${trimTrailingSlash(apiBase)}/conversations/history?session_id=${sessionId}`,{method:'GET',headers:{'Content-Type':'application/json'}});if(response.ok){const data=await response.json();if(data.messages&&Array.isArray(data.messages)){// Convert backend message format to frontend format\nconst formattedMessages=data.messages.map(msg=>({role:msg.role==='user'?'user':'assistant',content:msg.content}));setMessages(formattedMessages);}}}catch(error){console.warn('[Chat] Failed to load conversation history:',error);// Don't show error to user, just start with empty conversation\n}};loadConversationHistory();},[sessionId,apiBase]);// Subscribe to reflections: show a visible \"Reflecting…\" indicator during generation and\n// release pending assistant messages when matching turn_id arrives\nuseEffect(()=>{if(!sessionId)return;const unsubscribe=reflectionService.onReflectionGenerated(evt=>{// Reflection service emits both generating and generated events to this listener.\n// evt.status can be 'generating' | 'complete'.\nconst base=evt||{};if(base.status==='generating'){// Show indicator\nsetReflectingCount(c=>c+1);}const payload=(base===null||base===void 0?void 0:base.data)||base;if(!payload)return;const{turn_id,user_profile_id}=payload;if(!turn_id)return;if(user_profile_id&&user_profile_id!==sessionId)return;if(base.status==='complete'){// Hide indicator (decrement counter; guard below zero)\nsetReflectingCount(c=>Math.max(0,c-1));reflectionsSeenRef.current.add(turn_id);if(pendingAnswersRef.current.has(turn_id)){const content=pendingAnswersRef.current.get(turn_id);pendingAnswersRef.current.delete(turn_id);// Clear any pending timeout for this turn\nconst t=pendingTimeoutsRef.current.get(turn_id);if(t){clearTimeout(t);pendingTimeoutsRef.current.delete(turn_id);}setMessages(prev=>[...prev,{role:'assistant',content}]);}else if(pendingAnswersRef.current.size===1){// Fallback: if exactly one pending answer exists for this session but the turn_id didn't match,\n// release it to avoid a stuck UI due to rare id mismatch races.\ntry{console.warn('[Reflect] releasing unmatched pending assistant due to single-pending fallback');}catch(_){}const[[k,v]]=Array.from(pendingAnswersRef.current.entries());pendingAnswersRef.current.delete(k);const t2=pendingTimeoutsRef.current.get(k);if(t2){clearTimeout(t2);pendingTimeoutsRef.current.delete(k);}setMessages(prev=>[...prev,{role:'assistant',content:v}]);}}},sessionId);return()=>{if(typeof unsubscribe==='function')unsubscribe();};},[sessionId]);const clearConversation=()=>{setMessages([]);// Optionally generate a new session ID to start fresh\nconst newSessionId=uuidv4();setSessionId(newSessionId);try{localStorage.setItem('selo_ai_session_id',newSessionId);}catch(_){}};const handleSubmit=async e=>{e.preventDefault();if(!input.trim()||isLoading||!apiBase||!sessionId)return;const userMessage={role:'user',content:input};setMessages(prev=>[...prev,userMessage]);setInput('');setIsLoading(true);try{const CHAT_ENDPOINT=`${trimTrailingSlash(apiBase)}/chat`;// Debug logging removed for production\nconst response=await fetch(CHAT_ENDPOINT,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session_id:sessionId,prompt:input})});if(!response.ok){const text=await response.text().catch(()=>'');try{console.error('[Chat] /chat non-OK',response.status,text);}catch(_){}throw new Error('Network response was not ok');}const data=await response.json();// Debug logging removed for production\nconst turnId=data.turn_id;const assistantContent=data.response;// Prefer showing reflection first. Gate assistant until matching reflection arrives,\n// but fall back after a short timeout to prevent indefinite blocking.\nif(turnId){if(reflectionsSeenRef.current.has(turnId)){setMessages(prev=>[...prev,{role:'assistant',content:assistantContent}]);}else{pendingAnswersRef.current.set(turnId,assistantContent);// Optional fallback release is disabled when STRICT_REFLECTION_FIRST is true\nif(!STRICT_REFLECTION_FIRST){const timeoutId=setTimeout(()=>{if(pendingAnswersRef.current.has(turnId)){pendingAnswersRef.current.delete(turnId);pendingTimeoutsRef.current.delete(turnId);setMessages(prev=>[...prev,{role:'assistant',content:assistantContent}]);}},8000);pendingTimeoutsRef.current.set(turnId,timeoutId);}}}else{// No turn_id returned, show immediately\nsetMessages(prev=>[...prev,{role:'assistant',content:assistantContent}]);}}catch(error){console.error('[Chat] submit error:',error);setMessages(prev=>[...prev,{role:'assistant',content:'Sorry, there was an error processing your request. Please try again.'}]);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-full w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-1 h-full max-w-2xl min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4 mb-4\",children:[reflectingCount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-[var(--color-accent)] mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Reflecting\\u2026\"})]}),!apiBase?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Loading configuration...\"})})}):messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-2\",children:\"Welcome to SELO DSP\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Start a conversation with your SELO\"})]})}):messages.map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:`flex ${message.role==='user'?'justify-end':'justify-start'}`,children:/*#__PURE__*/_jsx(\"div\",{className:`max-w-3/4 rounded-lg p-4 ${message.role==='user'?'bg-[var(--color-bg-elev-1)] border border-[var(--color-accent)]/40 text-white':'bg-[var(--color-bg-elev-1)] border border-[var(--color-border)] text-[var(--color-text-secondary)]'}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap\",children:message.content})})},index)),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-[var(--color-accent)]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse delay-150\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse delay-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"SELO DSP is thinking...\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type your message...\",className:\"flex-1 bg-[var(--color-bg-elev-1)] border border-[var(--color-border)] rounded-lg px-4 py-2 text-white focus:outline-none\",disabled:isLoading}),messages.length>0&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearConversation,className:\"px-4 py-2 bg-[var(--color-bg-elev-1)] hover:bg-[var(--color-bg-elev-2)] text-gray-400 hover:text-white border border-[var(--color-border)] rounded-lg font-medium transition-colors\",title:\"Clear conversation\",children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!input.trim()||isLoading,className:\"px-6 py-2 bg-[var(--color-bg-elev-1)] hover:bg-[var(--color-bg-elev-2)] text-[var(--color-accent)] border border-[var(--color-accent)]/50 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Send\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[420px] min-w-[320px] max-w-[520px] h-full border-l border-[var(--color-border)] bg-[var(--color-bg-elev-1)]\",children:/*#__PURE__*/_jsx(ReflectionPanel,{sessionId:sessionId,messages:messages})})]});};export default Chat;","map":{"version":3,"names":["React","useState","useRef","useEffect","v4","uuidv4","ReflectionPanel","reflectionService","getApiBaseUrl","jsx","_jsx","jsxs","_jsxs","trimTrailingSlash","s","replace","STRICT_REFLECTION_FIRST","Chat","_ref","userId","messages","setMessages","input","setInput","isLoading","setIsLoading","reflectingCount","setReflectingCount","apiBase","setApiBase","pendingAnswersRef","Map","reflectionsSeenRef","Set","sessionId","setSessionId","pendingTimeoutsRef","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","mounted","base","e","console","warn","localStorage","setItem","_","sid","getItem","loadConversationHistory","response","fetch","method","headers","ok","data","json","Array","isArray","formattedMessages","map","msg","role","content","error","unsubscribe","onReflectionGenerated","evt","status","c","payload","turn_id","user_profile_id","Math","max","add","has","get","delete","t","clearTimeout","prev","size","k","v","from","entries","t2","clearConversation","newSessionId","handleSubmit","preventDefault","trim","userMessage","CHAT_ENDPOINT","body","JSON","stringify","session_id","prompt","text","catch","Error","turnId","assistantContent","set","timeoutId","setTimeout","className","children","length","message","index","ref","onSubmit","type","value","onChange","target","placeholder","disabled","onClick","title"],"sources":["/mnt/local/Projects/SELODSP1/selo-ai/frontend/src/components/Chat.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport ReflectionPanel from './ReflectionPanel';\nimport { reflectionService } from '../services/reflectionService';\nimport { getApiBaseUrl } from '../services/config';\n\n// Runtime-resolved API base URL\nconst trimTrailingSlash = (s) => s.replace(/\\/$/, '');\n// Enforce strict reflection-first UX (no assistant release without matching reflection)\nconst STRICT_REFLECTION_FIRST = true;\n\nconst Chat = ({ userId }) => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [reflectingCount, setReflectingCount] = useState(0);\n  const [apiBase, setApiBase] = useState(null);\n  // Map of turnId -> assistant message content waiting for matching reflection\n  const pendingAnswersRef = useRef(new Map());\n  const reflectionsSeenRef = useRef(new Set());\n  const [sessionId, setSessionId] = useState(null);\n  // Track per-turn timeouts for releasing pending assistant messages if reflection is delayed\n  const pendingTimeoutsRef = useRef(new Map());\n  \n  const messagesEndRef = useRef(null);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Resolve API base URL at runtime via backend /config.json (with fallbacks inside getApiBaseUrl)\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        const base = await getApiBaseUrl();\n        if (mounted) setApiBase(base);\n      } catch (e) {\n        console.warn('Failed to resolve API base URL:', e);\n        if (mounted) setApiBase('http://localhost:8000');\n      }\n    })();\n    return () => { mounted = false; };\n  }, []);\n\n  // Establish a single, consistent session id across the app. Prefer App's userId prop.\n  useEffect(() => {\n    // If App provided a userId, use it and persist to localStorage for continuity\n    if (userId && typeof userId === 'string') {\n      setSessionId(userId);\n      try { localStorage.setItem('selo_ai_session_id', userId); } catch (_) {}\n      return;\n    }\n    // Fallback to existing persisted session id or create a new one\n    let sid = null;\n    try { sid = localStorage.getItem('selo_ai_session_id'); } catch (_) { sid = null; }\n    if (!sid) {\n      sid = uuidv4();\n      try { localStorage.setItem('selo_ai_session_id', sid); } catch (_) {}\n    }\n    setSessionId(sid);\n  }, [userId]);\n\n  // Load conversation history when sessionId is available\n  useEffect(() => {\n    if (!sessionId || !apiBase) return;\n    \n    const loadConversationHistory = async () => {\n      try {\n        const response = await fetch(`${trimTrailingSlash(apiBase)}/conversations/history?session_id=${sessionId}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          if (data.messages && Array.isArray(data.messages)) {\n            // Convert backend message format to frontend format\n            const formattedMessages = data.messages.map(msg => ({\n              role: msg.role === 'user' ? 'user' : 'assistant',\n              content: msg.content\n            }));\n            setMessages(formattedMessages);\n          }\n        }\n      } catch (error) {\n        console.warn('[Chat] Failed to load conversation history:', error);\n        // Don't show error to user, just start with empty conversation\n      }\n    };\n    \n    loadConversationHistory();\n  }, [sessionId, apiBase]);\n\n  // Subscribe to reflections: show a visible \"Reflecting…\" indicator during generation and\n  // release pending assistant messages when matching turn_id arrives\n  useEffect(() => {\n    if (!sessionId) return;\n    const unsubscribe = reflectionService.onReflectionGenerated((evt) => {\n      // Reflection service emits both generating and generated events to this listener.\n      // evt.status can be 'generating' | 'complete'.\n      const base = evt || {};\n      if (base.status === 'generating') {\n        // Show indicator\n        setReflectingCount((c) => c + 1);\n      }\n      const payload = base?.data || base;\n      if (!payload) return;\n      const { turn_id, user_profile_id } = payload;\n      if (!turn_id) return;\n      if (user_profile_id && user_profile_id !== sessionId) return;\n\n      if (base.status === 'complete') {\n        // Hide indicator (decrement counter; guard below zero)\n        setReflectingCount((c) => Math.max(0, c - 1));\n        reflectionsSeenRef.current.add(turn_id);\n        if (pendingAnswersRef.current.has(turn_id)) {\n          const content = pendingAnswersRef.current.get(turn_id);\n          pendingAnswersRef.current.delete(turn_id);\n          // Clear any pending timeout for this turn\n          const t = pendingTimeoutsRef.current.get(turn_id);\n          if (t) { clearTimeout(t); pendingTimeoutsRef.current.delete(turn_id); }\n          setMessages((prev) => [...prev, { role: 'assistant', content }]);\n        } else if (pendingAnswersRef.current.size === 1) {\n          // Fallback: if exactly one pending answer exists for this session but the turn_id didn't match,\n          // release it to avoid a stuck UI due to rare id mismatch races.\n          try { console.warn('[Reflect] releasing unmatched pending assistant due to single-pending fallback'); } catch (_) {}\n          const [[k, v]] = Array.from(pendingAnswersRef.current.entries());\n          pendingAnswersRef.current.delete(k);\n          const t2 = pendingTimeoutsRef.current.get(k);\n          if (t2) { clearTimeout(t2); pendingTimeoutsRef.current.delete(k); }\n          setMessages((prev) => [...prev, { role: 'assistant', content: v }]);\n        }\n      }\n    }, sessionId);\n\n    return () => {\n      if (typeof unsubscribe === 'function') unsubscribe();\n    };\n  }, [sessionId]);\n\n  const clearConversation = () => {\n    setMessages([]);\n    // Optionally generate a new session ID to start fresh\n    const newSessionId = uuidv4();\n    setSessionId(newSessionId);\n    try { \n      localStorage.setItem('selo_ai_session_id', newSessionId); \n    } catch (_) {}\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading || !apiBase || !sessionId) return;\n\n    const userMessage = { role: 'user', content: input };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const CHAT_ENDPOINT = `${trimTrailingSlash(apiBase)}/chat`;\n      // Debug logging removed for production\n      const response = await fetch(CHAT_ENDPOINT, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          session_id: sessionId,\n          prompt: input,\n        }),\n      });\n\n      if (!response.ok) {\n        const text = await response.text().catch(() => '');\n        try { console.error('[Chat] /chat non-OK', response.status, text); } catch (_) {}\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n      // Debug logging removed for production\n      const turnId = data.turn_id;\n      const assistantContent = data.response;\n      // Prefer showing reflection first. Gate assistant until matching reflection arrives,\n      // but fall back after a short timeout to prevent indefinite blocking.\n      if (turnId) {\n        if (reflectionsSeenRef.current.has(turnId)) {\n          setMessages(prev => [...prev, { role: 'assistant', content: assistantContent }]);\n        } else {\n          pendingAnswersRef.current.set(turnId, assistantContent);\n          // Optional fallback release is disabled when STRICT_REFLECTION_FIRST is true\n          if (!STRICT_REFLECTION_FIRST) {\n            const timeoutId = setTimeout(() => {\n              if (pendingAnswersRef.current.has(turnId)) {\n                pendingAnswersRef.current.delete(turnId);\n                pendingTimeoutsRef.current.delete(turnId);\n                setMessages(prev => [...prev, { role: 'assistant', content: assistantContent }]);\n              }\n            }, 8000);\n            pendingTimeoutsRef.current.set(turnId, timeoutId);\n          }\n        }\n      } else {\n        // No turn_id returned, show immediately\n        setMessages(prev => [...prev, { role: 'assistant', content: assistantContent }]);\n      }\n    } catch (error) {\n      console.error('[Chat] submit error:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, there was an error processing your request. Please try again.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex h-full w-full\">\n      {/* Chat panel (left) */}\n      <div className=\"flex flex-col flex-1 h-full max-w-2xl min-w-0\">\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-4 mb-4\">\n          {reflectingCount > 0 && (\n            <div className=\"flex items-center space-x-2 text-[var(--color-accent)] mb-2\">\n              <div className=\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse\"></div>\n              <span className=\"text-sm\">Reflecting…</span>\n            </div>\n          )}\n          {!apiBase ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-center text-gray-500\">\n                <p className=\"text-sm\">Loading configuration...</p>\n              </div>\n            </div>\n          ) : messages.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-center text-gray-500\">\n                <p className=\"text-lg mb-2\">Welcome to SELO DSP</p>\n                <p className=\"text-sm\">Start a conversation with your SELO</p>\n              </div>\n            </div>\n          ) : (\n            messages.map((message, index) => (\n              <div\n                key={index}\n                className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-3/4 rounded-lg p-4 ${\n                    message.role === 'user'\n                      ? 'bg-[var(--color-bg-elev-1)] border border-[var(--color-accent)]/40 text-white'\n                      : 'bg-[var(--color-bg-elev-1)] border border-[var(--color-border)] text-[var(--color-text-secondary)]'\n                  }`}\n                >\n                  <div className=\"whitespace-pre-wrap\">{message.content}</div>\n                </div>\n              </div>\n            ))\n          )}\n          {isLoading && (\n            <div className=\"flex items-center space-x-2 text-[var(--color-accent)]\">\n              <div className=\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse\"></div>\n              <div className=\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse delay-150\"></div>\n              <div className=\"w-2 h-2 bg-[var(--color-accent)] rounded-full animate-pulse delay-300\"></div>\n              <span className=\"ml-2 text-sm\">SELO DSP is thinking...</span>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n        {/* Input area */}\n        <form onSubmit={handleSubmit} className=\"mt-4\">\n          <div className=\"flex space-x-2\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Type your message...\"\n              className=\"flex-1 bg-[var(--color-bg-elev-1)] border border-[var(--color-border)] rounded-lg px-4 py-2 text-white focus:outline-none\"\n              disabled={isLoading}\n            />\n            {messages.length > 0 && (\n              <button\n                type=\"button\"\n                onClick={clearConversation}\n                className=\"px-4 py-2 bg-[var(--color-bg-elev-1)] hover:bg-[var(--color-bg-elev-2)] text-gray-400 hover:text-white border border-[var(--color-border)] rounded-lg font-medium transition-colors\"\n                title=\"Clear conversation\"\n              >\n                Clear\n              </button>\n            )}\n            <button\n              type=\"submit\"\n              disabled={!input.trim() || isLoading}\n              className=\"px-6 py-2 bg-[var(--color-bg-elev-1)] hover:bg-[var(--color-bg-elev-2)] text-[var(--color-accent)] border border-[var(--color-accent)]/50 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Send\n            </button>\n          </div>\n        </form>\n      </div>\n      {/* Reflection panel (right) */}\n      <div className=\"w-[420px] min-w-[320px] max-w-[520px] h-full border-l border-[var(--color-border)] bg-[var(--color-bg-elev-1)]\">\n        <ReflectionPanel sessionId={sessionId} messages={messages} />\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}